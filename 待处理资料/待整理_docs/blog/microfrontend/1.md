---
title: 什么是微前端？
authors:
  name: Ric
  title: 请不要再给我的新代码提交BUG啦
  image_url: http://8.129.54.83/static/src/img/avatar1.png
  email: 272366149@qq.com
tags: [微前端]
hide_table_of_contents: false
---

<!--truncate-->

### 什么是微前端
理解什么是微前端就要先了解什么是微服务，微服务就是后端面向服务架构的一种升级，借助轻量级的通信协议将一个一个的服务组织起来，形成一整套服务，每个服务之间松耦合，可以是不同的语言开发的，每个服务提供不同的职责，最后再组织在一起，对外提供功能。

微前端可以说是吸收了微服务这种思想，将前端的项目也拆分开来，每个项目可以使用不同技术，可以单独部署，最后再借助统一的主应用来加载子应用，将页面集成到一起。

微前端就是将不同的功能按照不同的维度拆分成多个子应用。通过主应用来加载这些子应用。

微前端的核心在于拆, 拆完后再合!

### 微前端有哪些优势?

- 简单、松耦合
- 代码库更小，高内聚，更容易维护，更快的编译速度
- 渐进式的升级，降低前端代码重构风险
- 可独立部署
- 方便不同团队（不同技术栈）开发，最后集成到一起
- 老的应用丢弃不了
- 共享组件

### 微前端的实现方案有哪些？

服务端集成，必要的话，可以在服务端也建立一套与前端相对应的结构，使用HTTP服务器的路由重定向多个应用。

**iframe**  
最大的特性就是提供了浏览器原生的硬隔离方案，不论是样式隔离、js 隔离这类问题统统都能被完美解决。正是因为其强大的隔离性，使其路由控制、历史栈管理、跨域问题等等变得难以解决，限制了其灵活性。

**Web Components**  
将微应用封装成自定义 HTML 元素，以获得样式隔离等好处。
其核心依赖于以下四项技术组件：

* Custom elements（自定义元素）：允许自定义元素及其行为，然后可以在用户界面中按照需要使用。
* Shadow DOM（影子DOM）：将封装的影子DOM树附加到主文档DOM树中，并且可以控制其关联的功能。通过这种方式，可以保持元素的功能私有，不用担心与文档的其他部分发生冲突。
* HTML templates（HTML模板）： `<template>` 和 `<slot>` 元素使您可以编写不在呈现页面中显示的标记模板。然后它们可以作为自定义元素结构的基础被多次重用。
* HTML Imports，可以通过`<link rel="import" href= "/*.html">`引入自定义组件。

**ESM**    
ESM 存在着 兼容性 这一大弊端, 大部分老版的浏览器 仍然无法直接使用，他可以通过 webpack、 rollup、 esbuild 、 snowpack等编译工具成为兼容性的代码。

**single-spa**  
single-spa 是一个用于前端微服务化的JavaScript前端解决方案，实现了路由劫持和应用加载，其本身没有处理样式隔离、js隔离。

**qiankun**  
真正意义上的单页微前端框架，基于single-spa封装，增加了 umi 特色，增加沙箱机制。

**icestark**  
与 qiankun 同出自阿里， React 技术栈的微前端解决方案

**piral**
基于 TypeScript，React 技术栈的微前端解决方案

**Mooa**
Mooa 是为 Angular 定制的微前端框架，也是基于 single-spa 思想，针对 IE 10 及 IFRAME 优化的微前端解决方案。
Mooa 采用的是主-从式架构，分为主工程和子工程，主工程负责加载子工程，以及一些核心的管理功能。

**EMP**
欢聚时代业务中台自主研发的 单页微前端解决方案

作者：CoderJie  
链接：https://juejin.cn/post/7027106027510169607  
来源：稀土掘金  
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。
